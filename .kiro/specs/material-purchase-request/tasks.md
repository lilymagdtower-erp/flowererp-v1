# 자재 구매 요청 시스템 구현 작업 목록

- [x] 1. 데이터 모델 및 타입 정의





  - MaterialRequest, PurchaseBatch, ActualPurchaseItem 인터페이스 정의
  - 요청 상태 enum 및 타입 정의
  - Firebase 컬렉션 구조 설계 및 보안 규칙 작성
  - _요구사항: 1.3, 2.1, 3.1_

- [x] 2. 지점 자재 요청 페이지 구현





  - MaterialRequestPage 컴포넌트 생성
  - 사용 가능한 자재 목록 표시 기능
  - 장바구니 방식 자재 선택 및 수량 입력 UI
  - 요청 제출 및 요청 번호 생성 기능
  - _요구사항: 1.1, 1.2, 1.3_

- [x] 3. 자재 요청 장바구니 시스템





  - MaterialRequestCart 컴포넌트 구현
  - 자재 추가/수정/삭제 기능
  - 예상 비용 계산 및 표시
  - 긴급도 설정 및 메모 기능
  - _요구사항: 1.1, 1.2_

- [x] 4. 요청 상태 추적 시스템






  - RequestStatusTracker 컴포넌트 구현
  - 실시간 요청 상태 업데이트 표시
  - 요청 내역 vs 실제 구매 내역 비교 표시
  - 배송 추적 및 입고 예정 알림
  - _요구사항: 1.4, 4.1, 4.2_

- [x] 5. 본사 요청 취합 대시보드






  - PurchaseRequestDashboard 컴포넌트 구현
  - 모든 지점 요청을 한눈에 보는 취합 뷰
  - 자재별 총 필요량 자동 집계 기능
  - 지점별, 긴급도별 필터링 기능
  - _요구사항: 2.1, 2.2_

- [x] 6. 실제 구매 내역 입력 시스템





  - ActualPurchaseForm 컴포넌트 구현
  - 요청 품목 vs 실제 구매 품목 매핑 기능
  - 가격 변동, 수량 변경, 대체품 입력 기능
  - 구매 불가 사유 및 메모 기록 기능
  - _요구사항: 2.3, 2.4, 3.1, 3.2, 3.3_

- [x] 7. 구매 배치 관리 시스템





  - PurchaseBatch 생성 및 관리 기능
  - 여러 요청을 하나의 구매 배치로 묶기
  - 배치별 총 비용 계산 및 지점별 비용 배분
  - 구매 완료 후 배송 계획 자동 생성
  - _요구사항: 2.1, 2.2, 5.2_

- [x] 8. 배송 및 입고 관리





  - 배송 시작 알림 시스템 구현
  - 지점별 입고 확인 인터페이스
  - 실제 입고 내역 vs 요청 내역 비교 기능
  - 입고 완료 시 자동 재고 업데이트 로직
  - _요구사항: 4.1, 4.2, 4.3_

- [ ] 9. 자동 재고 연동 시스템




  - 입고 완료 시 materials 컬렉션 자동 업데이트
  - stockHistory 컬렉션에 입고 기록 자동 생성
  - 재고 부족 시 자동 알림 시스템
  - 재고 변동 추적 및 감사 로그
  - _요구사항: 4.3, 4.4_

- [ ] 10. 비용 자동 연동 시스템
  - expenses 컬렉션에 구매 비용 자동 기록
  - 지점별 자재비 자동 배분 로직
  - 구매 요청과 실제 비용 연결 추적
  - 월별 자재 구매 비용 집계 기능
  - _요구사항: 5.1, 5.2, 5.3, 5.4_

- [ ] 11. 실시간 알림 시스템
  - 요청 접수, 구매 완료, 배송 시작 알림
  - 긴급 요청 우선 알림 시스템
  - 구매 불가/대체품 알림
  - 입고 요청 및 완료 알림
  - _요구사항: 1.4, 2.4, 4.1_

- [ ] 12. 구매 분석 및 보고서
  - 지점별 자재 사용량 분석 리포트
  - 자재별 구매 빈도 및 비용 분석
  - 요청 vs 실제 구매 효율성 분석
  - 공급업체별 구매 현황 분석
  - _요구사항: 분석 및 최적화_

- [ ] 13. 메뉴 구조 업데이트
  - 사이드바에 "자재 요청" 메뉴 추가 (지점용)
  - 사이드바에 "구매 관리" 메뉴 추가 (본사용)
  - 기존 자재관리와 구분되는 별도 메뉴 구성
  - 권한별 메뉴 표시/숨김 처리
  - _요구사항: 사용성 개선_

- [ ] 14. 권한 및 보안 강화
  - 지점별 요청 권한 제한 (자신의 지점만)
  - 본사 구매 권한 관리 (본사 관리자만)
  - 비용 정보 접근 권한 제한
  - 구매 가격 정보 보안 처리
  - _요구사항: 보안 강화_

- [ ] 15. 성능 최적화 및 오류 처리
  - 대용량 요청 처리 최적화
  - 실시간 업데이트 성능 개선
  - 네트워크 오류 시 재시도 로직
  - 데이터 동기화 오류 복구 시스템
  - _요구사항: 안정성 향상_

- [ ] 16. 테스트 및 검증
  - 전체 플로우 통합 테스트 (요청→구매→배송→입고)
  - 재고 연동 정확성 테스트
  - 비용 계산 정확성 테스트
  - 다중 지점 동시 요청 테스트
  - _요구사항: 품질 보증_

- [ ] 17. 사용자 가이드 및 교육
  - 지점용 자재 요청 가이드 작성
  - 본사용 구매 관리 가이드 작성
  - 시스템 사용법 교육 자료 준비
  - 문제 해결 FAQ 작성
  - _요구사항: 사용성 향상_