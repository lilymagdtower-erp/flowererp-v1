# 자재 구매 요청 시스템 요구사항

## 소개

각 지점에서 필요한 자재를 본사에 요청하고, 본사 구매담당자가 실제 꽃 시장에서 구매한 후 지점으로 배송하는 완전한 자재 구매 요청 시스템을 구현합니다. 실제 꽃 시장의 특성(품절, 가격 변동, 대체품)을 반영한 현실적인 시스템입니다.

## 요구사항

### 요구사항 1: 지점 자재 요청

**사용자 스토리:** 지점 직원으로서, 필요한 자재를 간편하게 본사에 요청하고 싶습니다. 그래야 업무에 필요한 자재를 적시에 공급받을 수 있습니다.

#### 승인 기준
1. WHEN 지점에서 자재 요청 메뉴에 접근할 때 THEN 시스템은 사용 가능한 자재 목록을 표시해야 합니다
2. WHEN 자재를 선택하고 수량을 입력할 때 THEN 시스템은 장바구니 방식으로 여러 자재를 추가할 수 있어야 합니다
3. WHEN 요청을 제출할 때 THEN 시스템은 요청 내역을 본사에 전송하고 요청 번호를 생성해야 합니다
4. WHEN 요청 후 THEN 지점은 요청 상태를 실시간으로 확인할 수 있어야 합니다

### 요구사항 2: 본사 구매 관리

**사용자 스토리:** 본사 구매담당자로서, 각 지점의 요청을 취합하여 효율적으로 구매하고 실제 구매 내역을 정확히 기록하고 싶습니다. 그래야 꽃 시장의 실제 상황을 반영한 정확한 구매 관리를 할 수 있습니다.

#### 승인 기준
1. WHEN 지점들의 요청이 들어올 때 THEN 시스템은 자재별로 총 필요량을 자동 집계해야 합니다
2. WHEN 시장에서 구매할 때 THEN 구매담당자는 실제 구매한 품목, 수량, 가격을 자유롭게 입력할 수 있어야 합니다
3. WHEN 요청 품목을 구매할 수 없을 때 THEN 시스템은 구매 불가 사유를 기록할 수 있어야 합니다
4. WHEN 대체품을 구매할 때 THEN 시스템은 원래 품목과 대체품을 연결하여 기록해야 합니다

### 요구사항 3: 실제 구매 내역 관리

**사용자 스토리:** 본사 구매담당자로서, 꽃 시장의 실제 상황(가격 변동, 품절, 대체품)을 정확히 반영하여 구매 내역을 기록하고 싶습니다. 그래야 정확한 비용 관리와 재고 관리를 할 수 있습니다.

#### 승인 기준
1. WHEN 실제 구매 가격이 예상과 다를 때 THEN 시스템은 실제 구매 가격을 기록해야 합니다
2. WHEN 구매 수량이 요청과 다를 때 THEN 시스템은 실제 구매 수량과 사유를 기록해야 합니다
3. WHEN 대체품을 구매할 때 THEN 시스템은 대체 사유와 대체품 정보를 상세히 기록해야 합니다
4. WHEN 구매가 완료될 때 THEN 시스템은 지점별 배송 내역을 자동 생성해야 합니다

### 요구사항 4: 배송 및 입고 관리

**사용자 스토리:** 지점 직원으로서, 요청한 자재가 언제 배송되고 입고되는지 추적하고, 입고 시 재고가 자동으로 업데이트되기를 원합니다. 그래야 정확한 재고 관리를 할 수 있습니다.

#### 승인 기준
1. WHEN 본사에서 배송을 시작할 때 THEN 지점은 배송 시작 알림을 받아야 합니다
2. WHEN 지점에서 자재를 입고할 때 THEN 시스템은 실제 받은 내역을 확인할 수 있어야 합니다
3. WHEN 입고가 완료될 때 THEN 시스템은 해당 지점의 자재 재고를 자동으로 증가시켜야 합니다
4. WHEN 입고가 완료될 때 THEN 시스템은 재고 변동 기록을 자동으로 생성해야 합니다

### 요구사항 5: 비용 자동 연동

**사용자 스토리:** 회계 담당자로서, 자재 구매 비용이 자동으로 회계 시스템에 반영되어 지점별 비용 관리가 되기를 원합니다. 그래야 정확한 손익 관리를 할 수 있습니다.

#### 승인 기준
1. WHEN 실제 구매가 완료될 때 THEN 시스템은 구매 비용을 자동으로 기록해야 합니다
2. WHEN 지점별로 자재를 배송할 때 THEN 시스템은 해당 지점의 자재비로 비용을 배분해야 합니다
3. WHEN 월말 정산 시 THEN 시스템은 지점별 자재 구매 비용을 집계해야 합니다
4. WHEN 비용이 기록될 때 THEN 시스템은 구매 요청과 실제 비용을 연결하여 추적 가능해야 합니다